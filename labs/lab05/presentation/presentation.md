---
lang: ru-RU
title: Конфигурирование HTTP-сервера Apache
subtitle: Лабораторная работа №5
author:
  - Элсаиед Адел
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 3 января 2026

toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цели и задачи работы

## Цель лабораторной работы

Приобретение практических навыков расширенного конфигурирования HTTP-сервера Apache в части обеспечения безопасности соединения с использованием протокола HTTPS, а также настройки поддержки серверного языка PHP.

# Выполнение работы

## Генерация SSL-сертификата

На виртуальной машине **server** был создан каталог для хранения закрытых ключей SSL и сгенерирован самоподписанный сертификат с использованием утилиты OpenSSL.

В процессе генерации были заданы параметры Distinguished Name, включая доменное имя веб-сервера и данные организации.

![Генерация SSL-сертификата](Screenshot_1.png){ #fig:001 width=70% }

## Размещение сертификата и ключа

После генерации была выполнена проверка наличия созданных файлов. SSL-сертификат был перемещён в системный каталог сертификатов, предназначенный для использования веб-сервером Apache.

![Проверка и копирование сертификата](Screenshot_2.png){ #fig:002 width=70% }

## Настройка виртуального хоста Apache

Был отредактирован конфигурационный файл виртуального хоста Apache.  
Настроено автоматическое перенаправление HTTP-запросов на HTTPS и включена поддержка SSL для порта 443 с указанием путей к сертификату и закрытому ключу.

![Конфигурация виртуального хоста](Screenshot_3.png){ #fig:003 width=70% }

## Проверка HTTPS-соединения

После применения конфигурации выполнен доступ к веб-серверу из браузера клиентской виртуальной машины. Зафиксировано автоматическое перенаправление на защищённое HTTPS-соединение.

![Проверка HTTPS в браузере](Screenshot_4.png){ #fig:004 width=70% }

## Просмотр сведений сертификата

В браузере были просмотрены сведения установленного SSL-сертификата. Подтверждено соответствие доменного имени и параметров субъекта сертификата заданным значениям.

![Просмотр SSL-сертификата](Screenshot_5.png){ #fig:005 width=70% }

## Настройка PHP на сервере

Для проверки работы PHP в каталоге веб-сайта был создан файл `index.php`, содержащий вызов функции `phpinfo()`.  
Произведена настройка прав доступа и восстановление контекста безопасности SELinux.

![Создание index.php](Screenshot_6.png){ #fig:006 width=70% }

## Проверка работы PHP

При обращении к веб-серверу через браузер была успешно отображена страница с информацией о версии PHP, параметрах сборки и конфигурации окружения.

![Вывод phpinfo()](Screenshot_7.png){ #fig:007 width=70% }

## Обновление provisioning-скриптов

Для обеспечения воспроизводимости конфигурации были скопированы файлы виртуальных хостов, веб-контент и SSL-сертификаты в каталог provisioning.  
В скрипт `http.sh` добавлены установка PHP, настройка межсетевого экрана и автоматический запуск сервиса httpd.

![Обновление provisioning-скрипта](Screenshot_8.png){ #fig:008 width=70% }

# Выводы

## Вывод

В ходе лабораторной работы был сконфигурирован HTTP-сервер Apache для работы через защищённый протокол HTTPS. Сгенерирован и применён SSL-сертификат, настроено автоматическое перенаправление HTTP-запросов на HTTPS и обеспечена поддержка PHP. Внесённые изменения интегрированы в систему автоматического развёртывания Vagrant, что обеспечивает воспроизводимость и удобство управления серверной конфигурацией.
