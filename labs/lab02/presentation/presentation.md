---
lang: ru-RU
title: Настройка DNS-сервера
subtitle: Лабораторная работа №2
author:
  - Элсаиед Адел
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 2 января 2026

toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цели и задачи работы

## Цель лабораторной работы

Приобретение практических навыков установки и конфигурирования DNS-сервера на базе BIND, а также изучение принципов работы системы доменных имён.

# Выполнение работы

## Установка DNS-сервера

На виртуальной машине server выполнена установка пакетов bind и bind-utils.  
В процессе установки были автоматически разрешены зависимости и подготовлена среда для работы DNS-сервера.

![Установка bind и bind-utils](Screenshot_1.png){ #fig:001 width=70% }

## Проверка DNS-разрешения

Для проверки работы DNS-клиента выполнен запрос к доменному имени www.yandex.ru.  
Получен корректный ответ со статусом NOERROR и набором A-записей.

![DNS-запрос dig](Screenshot_2.png){ #fig:002 width=70% }

## Анализ конфигурационных файлов

Проанализированы основные конфигурационные файлы DNS:
- /etc/resolv.conf — настройки DNS-клиента;
- /etc/named.conf — основная конфигурация BIND.

![resolv.conf и named.conf](Screenshot_3.png){ #fig:003 width=70% }

## Корневые DNS-серверы

Рассмотрен файл named.ca, содержащий сведения о корневых DNS-серверах Интернета, используемых для инициализации DNS-кэша.

![Файл named.ca](Screenshot_4.png){ #fig:004 width=70% }

## Локальные зоны

Проанализированы файлы named.localhost и named.loopback, обеспечивающие корректную работу локального DNS-разрешения.

![Локальные зоны](Screenshot_5.png){ #fig:005 width=70% }

## Проверка локального DNS-сервера

Выполнен DNS-запрос с явным указанием локального сервера 127.0.0.1.  
Полученный ответ показал необходимость дополнительной настройки сервера.

![DNS-запрос через localhost](Screenshot_6.png){ #fig:006 width=70% }

## Настройка DNS по умолчанию

Сетевое соединение eth0 настроено на использование DNS-сервера 127.0.0.1.  
Изменения подтверждены в файле resolv.conf.

![Настройка NetworkManager](Screenshot_7.png){ #fig:007 width=70% }

## Разрешение запросов из сети

В файле named.conf разрешена обработка DNS-запросов от внутренней сети и включено прослушивание всех интерфейсов.

![Изменение named.conf](Screenshot_8.png){ #fig:008 width=70% }

## Проверка работы службы named

Проверено, что демон named прослушивает UDP-порт 53 и корректно обрабатывает DNS-запросы.

![Проверка lsof](Screenshot_9.png){ #fig:009 width=70% }

## Описание DNS-зон

Создан файл описания зон elsaiedadel.net и подключён в основной конфигурации named.

![Файл зон](Screenshot_10.png){ #fig:010 width=70% }

## Прямая и обратная зоны

Настроены:
- прямая зона elsaiedadel.net;
- обратная зона 1.168.192.in-addr.arpa.

![Описание зон](Screenshot_11.png){ #fig:011 width=70% }

## Файл прямой зоны

В файле прямой зоны определены записи SOA, NS и A для домена elsaiedadel.net.

![Прямая зона](Screenshot_12.png){ #fig:012 width=70% }

## Файл обратной зоны

В файле обратной зоны заданы PTR-записи для IP-адреса 192.168.1.1.

![Обратная зона](Screenshot_13.png){ #fig:013 width=70% }

## SELinux и права доступа

Выполнена настройка прав доступа и восстановление контекстов безопасности SELinux для корректной работы named.

![SELinux](Screenshot_14.png){ #fig:014 width=70% }

## Проверка dig

Выполнен запрос к ns.elsaiedadel.net.  
Получен авторитативный ответ от локального DNS-сервера.

![dig ns.elsaiedadel.net](Screenshot_15.png){ #fig:015 width=70% }

## Проверка host

С помощью утилиты host проверены:
- список записей зоны;
- A-записи;
- PTR-записи.

![Проверка host](Screenshot_16.png){ #fig:016 width=70% }

## Подготовка provisioning

Создана структура каталогов для хранения DNS-конфигурации в /vagrant/provision/server/dns и скопированы необходимые файлы.

![Подготовка каталогов](Screenshot_17.png){ #fig:017 width=70% }

## Скрипт dns.sh

Создан provisioning-скрипт dns.sh, автоматизирующий установку, настройку и запуск DNS-сервера при старте виртуальной машины.

![Скрипт dns.sh](Screenshot_18.png){ #fig:018 width=70% }

# Выводы

## Вывод

В ходе лабораторной работы был установлен и настроен DNS-сервер на базе BIND. Реализована работа кэширующего и первичного DNS-сервера, настроены прямая и обратная зоны, проверена корректность разрешения имён и автоматизирован процесс развёртывания. Полученные результаты подтверждают корректную работу DNS-сервера и его готовность к использованию во внутренней виртуальной сети.
