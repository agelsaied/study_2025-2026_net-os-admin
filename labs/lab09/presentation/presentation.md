---
lang: ru-RU
title: Настройка POP3/IMAP сервера
subtitle: Лабораторная работа №9
author:
  - Элсаиед Адел
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 4 января 2026

toc: false
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель и задачи работы

## Цель лабораторной работы

Приобретение практических навыков установки и базовой настройки почтового сервера с поддержкой протоколов POP3 и IMAP.

# Выполнение работы

## Настройка поддерживаемых протоколов

В конфигурационном файле Dovecot задан список используемых почтовых протоколов — IMAP и POP3.

![Настройка протоколов Dovecot](Screenshot_1.png){ width=70% }

## Настройка аутентификации пользователей

В конфигурации Dovecot выбран механизм аутентификации plain, обеспечивающий работу с системной базой пользователей.

![Настройка аутентификации](Screenshot_2.png){ width=70% }

## Источники учётных данных

Для аутентификации используется PAM, а информация о пользователях извлекается из системного файла passwd.

![Источники аутентификации](Screenshot_3.png){ width=70% }

## Настройка почтовых ящиков

В качестве формата хранения почты выбран Maildir, размещаемый в домашнем каталоге пользователя.

![Настройка Maildir](Screenshot_4.png){ width=70% }

## Настройка межсетевого экрана

В межсетевом экране разрешена работа сервисов POP3, POP3S, IMAP и IMAPS.

![Настройка firewall](Screenshot_5.png){ width=70% }

## Мониторинг работы почтовых служб

В процессе тестирования выполнялся мониторинг логов почтовых служб Postfix и Dovecot.

![Мониторинг maillog](Screenshot_6.png){ width=70% }

## Проверка доставки почты на сервере

Просмотр содержимого Maildir подтвердил успешную доставку тестовых писем локальному пользователю.

![Просмотр Maildir](Screenshot_7.png){ width=70% }

## Использование doveadm

Попытка работы с утилитой doveadm без прав суперпользователя завершилась ошибкой доступа, что подтверждает корректное разграничение прав.

![doveadm mailbox list](Screenshot_8.png){ width=70% }

## Настройка почтового клиента

На виртуальной машине Client установлен и настроен почтовый клиент Evolution для работы с IMAP и SMTP.

![Настройка Evolution](Screenshot_9.png){ width=70% }

## Получение тестовых сообщений

Отправленные тестовые письма успешно доставлены и отображены в папке «Входящие».

![Тестовые письма](Screenshot_10.png){ width=70% }

## Проверка POP3 через Telnet

Работа протокола POP3 проверена с использованием Telnet: выполнен вход, просмотр и удаление писем.

![POP3 через Telnet](Screenshot_11.png){ width=70% }

## Копирование конфигурационных файлов

Конфигурационные файлы Dovecot сохранены в каталог provisioning для последующей автоматизации развёртывания.

![Копирование конфигураций](Screenshot_12.png){ width=70% }

## Provisioning-скрипты

В provisioning-скрипты добавлены действия по установке, настройке и запуску почтовых служб на сервере и клиенте.

![Provisioning mail.sh](Screenshot_13.png){ width=70% }

# Выводы

## Вывод

В ходе лабораторной работы был настроен и протестирован почтовый сервер на базе Postfix и Dovecot. Обеспечена доставка и получение электронной почты по протоколам SMTP, IMAP и POP3. Проверена работа почтовых клиентов и автоматизирована настройка почтовой подсистемы с использованием provisioning-скриптов.
